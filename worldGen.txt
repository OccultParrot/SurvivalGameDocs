# link to video: https://youtu.be/ztPbGyQnKPo?si=u1KSz4QPOncdCB0r




extends TileMap

# The Light Noise used to determine information about the tile.
var moisture = FastLightNoise = new()
var temperature = FastLightNoise = new()
var altitude = FastLightNoise = new()

# The width and height of each chunk generated.
var width = 16
var height = 16


func _ready():
  # Setting the seed of each noise to a random number
  moisture.seed = randi()
  temperature.seed = randi()
  altitude.seed = randi()

func _process(delta):
  # When the map is processed, you generate the chunk the player is in.
  generate_chunk(position)

func generate_chunk(position):
  var tile_pos = local_to_map(position)
  for x in range(width):
    for y in range(height):
      var moist = moisture.get_noise_2d(tile_pos.x + x, tile_pos.y + y)
      var temp = temperature.get_noise_2d(tile_pos.x + x, tile_pos.y + y)
      var alt = altitude.get_noise_2d(tile_pos.x + x, tile_pos.y + y)

      set_cell(0, Vector2i(tile_pos.x + x, tile_pos.y + y), 0, Vector2i(1,1))
      
